//ä½ éœ€è¦åˆ¶å®šä¸€ä»½ d å¤©çš„å·¥ä½œè®¡åˆ’è¡¨ã€‚å·¥ä½œä¹‹é—´å­˜åœ¨ä¾èµ–ï¼Œè¦æƒ³æ‰§è¡Œç¬¬ i é¡¹å·¥ä½œï¼Œä½ å¿…é¡»å®Œæˆå…¨éƒ¨ j é¡¹å·¥ä½œï¼ˆ 0 <= j < iï¼‰ã€‚ 
//
// ä½ æ¯å¤© è‡³å°‘ éœ€è¦å®Œæˆä¸€é¡¹ä»»åŠ¡ã€‚å·¥ä½œè®¡åˆ’çš„æ€»éš¾åº¦æ˜¯è¿™ d å¤©æ¯ä¸€å¤©çš„éš¾åº¦ä¹‹å’Œï¼Œè€Œä¸€å¤©çš„å·¥ä½œéš¾åº¦æ˜¯å½“å¤©åº”è¯¥å®Œæˆå·¥ä½œçš„æœ€å¤§éš¾åº¦ã€‚ 
//
// ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ jobDifficulty å’Œä¸€ä¸ªæ•´æ•° dï¼Œåˆ†åˆ«ä»£è¡¨å·¥ä½œéš¾åº¦å’Œéœ€è¦è®¡åˆ’çš„å¤©æ•°ã€‚ç¬¬ i é¡¹å·¥ä½œçš„éš¾åº¦æ˜¯ jobDifficulty[i]ã€‚
// 
//
// è¿”å›æ•´ä¸ªå·¥ä½œè®¡åˆ’çš„ æœ€å°éš¾åº¦ ã€‚å¦‚æœæ— æ³•åˆ¶å®šå·¥ä½œè®¡åˆ’ï¼Œåˆ™è¿”å› -1 ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//
// è¾“å…¥ï¼šjobDifficulty = [6,5,4,3,2,1], d = 2
//è¾“å‡ºï¼š7
//è§£é‡Šï¼šç¬¬ä¸€å¤©ï¼Œæ‚¨å¯ä»¥å®Œæˆå‰ 5 é¡¹å·¥ä½œï¼Œæ€»éš¾åº¦ = 6.
//ç¬¬äºŒå¤©ï¼Œæ‚¨å¯ä»¥å®Œæˆæœ€åä¸€é¡¹å·¥ä½œï¼Œæ€»éš¾åº¦ = 1.
//è®¡åˆ’è¡¨çš„éš¾åº¦ = 6 + 1 = 7 
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// è¾“å…¥ï¼šjobDifficulty = [9,9,9], d = 4
//è¾“å‡ºï¼š-1
//è§£é‡Šï¼šå°±ç®—ä½ æ¯å¤©å®Œæˆä¸€é¡¹å·¥ä½œï¼Œä»ç„¶æœ‰ä¸€å¤©æ˜¯ç©ºé—²çš„ï¼Œä½ æ— æ³•åˆ¶å®šä¸€ä»½èƒ½å¤Ÿæ»¡è¶³æ—¢å®šå·¥ä½œæ—¶é—´çš„è®¡åˆ’è¡¨ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// è¾“å…¥ï¼šjobDifficulty = [1,1,1], d = 3
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šå·¥ä½œè®¡åˆ’ä¸ºæ¯å¤©ä¸€é¡¹å·¥ä½œï¼Œæ€»éš¾åº¦ä¸º 3 ã€‚
// 
//
// ç¤ºä¾‹ 4ï¼š 
//
// è¾“å…¥ï¼šjobDifficulty = [7,1,7,1,7,1], d = 3
//è¾“å‡ºï¼š15
// 
//
// ç¤ºä¾‹ 5ï¼š 
//
// è¾“å…¥ï¼šjobDifficulty = [11,111,22,222,33,333,44,444], d = 6
//è¾“å‡ºï¼š843
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= jobDifficulty.length <= 300 
// 0 <= jobDifficulty[i] <= 1000 
// 1 <= d <= 10 
// 
//
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ ğŸ‘ 118 ğŸ‘ 0


import java.util.Arrays;

//leetcode submit region begin(Prohibit modification and deletion)
class Solution1335 {

    /* 1335.å·¥ä½œè®¡åˆ’çš„æœ€ä½éš¾åº¦: https://leetcode.cn/problems/minimum-difficulty-of-a-job-schedule/
     * ç›¸ä¼¼é¢˜ç›®: dp?
     *
     * é¢˜ç›®è¦æ±‚ d å¤©æ°å¥½å®Œæˆ n ä»½ä»»åŠ¡, ä¸èƒ½å®Œä¸æˆ, æ¯å¤©ä¹Ÿä¸èƒ½é—²ç€
     *
     * è®¾ f(i,j) ä¸º j å¤©å®Œæˆ i ä»½ä»»åŠ¡çš„æœ€ä½éš¾åº¦; 1<=j<=d; j<=i<=n(æ¯å¤©è‡³å°‘è¦å®Œæˆ 1 é¡¹ä»»åŠ¡)
     * min[a,b] è¡¨ç¤ºä»ç¬¬ a+1 ä»½ä»»åŠ¡åˆ° b+1 ä»½ä»»åŠ¡çš„æœ€å°å€¼
     *  f(i,j) = min{f(j-1,j-1)+min[j-1,i-1], f(j,j-1)+min[j,i-1], f(i-1,j-1)+min[i-1,i-1]}
     *   ==> f(i,j) = min{f(k,j-1)+max[k,i-1]} j-1<=k<=i-1
     *
     * å¯¹äº f(i,j) çš„é€’æ¨å…¬å¼ï¼Œj å±‚åªä¾èµ– j-1 å±‚ï¼Œæ‰€ä»¥äºŒç»´å¯ä»¥æ”¹æˆä¸€ç»´
     * æŒ‡å®š j çš„æ¯ä¸ª f(i) éœ€è¦ O(n), è¿™ä¸€å±‚çš„ f(i) éœ€è¦ O(n*n)
     *
     * æ¯æ¬¡æ‰¾æœ€å°å€¼çš„æ—¶é—´å¤æ‚åº¦ O(n)
     * æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(n*n*n * d)
     * æˆ‘ä»¬ä»åå¾€å‰æ¨è¿›ï¼ŒåŒºé—´æœ€å°å€¼å¯ä»¥å‡æ‘Šåˆ° O(1) æ—¶é—´å¤æ‚åº¦, æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(n*n*d)
     *
     * ç•™å­˜ï¼Œå•è°ƒæ ˆçš„ç©ºé—´å¤æ‚åº¦å¯ä»¥åšåˆ°æ›´ä½, O(n*d)
     */
    public int minDifficulty(int[] jobDifficulty, int d) {
        int n = jobDifficulty.length;
        int[] f = new int[n+1];

        // f(0,j) j>0 ä¸å¯è¾¾ï¼Œåº”å½“è¿”å› -1
        Arrays.fill(f, Integer.MAX_VALUE/2);
        f[0] = 0;

        for (int j = 1; j <= d; j++) {
            // å› ä¸ºå¤§çš„ i ä¾èµ– å°çš„ iï¼Œæ‰€ä»¥å…ˆè®¡ç®—å¤§çš„
            // ç¡®ä¿æ¯ä¸€è½®éƒ½éå†å®Œå…¨éƒ¨å…ƒç´ 
            for (int i = n; i >= 1; i--) {
                // æ­¤æ—¶æ˜¯æ–°çš„ä¸€å±‚ j, f(i,j) ä¸å¯è¾¾ï¼Œé¢„å…ˆè®¾ç½®ä¸ºæœ€å¤§å€¼
                // è€Œä¸”æœ€å°å€¼å–å€¼é‡Œä¹Ÿä¸åŒ…å« f[i] æœ¬èº«
                f[i] = Integer.MAX_VALUE/2;
                // i < j ä¸å¯è¾¾
                if (i < j) continue;

                int max = Integer.MIN_VALUE;
                // ç¬¬ j-1 å¤©ï¼Œè‡³å°‘è¦å®Œæˆ j-1 ä¸ªä»»åŠ¡
                // åæ¨ï¼Œå‡æ‘Šæ‰¾æœ€å°å€¼çš„å¤æ‚åº¦
                for (int k = i-1; k >= j-1; k--) {
                    max = Math.max(max, jobDifficulty[k]);
                    f[i] = Math.min(f[i], f[k]+max);
                }
            }
        }

        return f[n] >= Integer.MAX_VALUE/2 ? -1 : f[n];
    }

    public static void main(String[] args) {
        Solution1335 so = new Solution1335();
        {
            int[] ars = new int[]{6, 5, 4, 3, 2, 1};
            int i = so.minDifficulty(ars, 2);
            System.out.println(i);
        }
        {
            int[] ars = new int[]{9,9,9};
            int i = so.minDifficulty(ars, 4);
            System.out.println(i);
        }
        {
            int[] ars = new int[]{7,1,7,1,7,1};
            int i = so.minDifficulty(ars, 3);
            System.out.println(i);
        }
        {
            int[] ars = new int[]{11,111,22,222,33,333,44,444};
            int i = so.minDifficulty(ars, 6);
            System.out.println(i);
        }
    }
}
//leetcode submit region end(Prohibit modification and deletion)
